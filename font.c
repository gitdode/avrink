/* 
 * File:   font.c
 * Author: torsten.roemer@luniks.net
 *
 * Created on 8. April 2023, 20:52
 */

#include <stdio.h>
#include <avr/pgmspace.h>
#include "font.h"

const char Space[] PROGMEM = {
    0b11111111, 0b11111111, 
    0b11111111, 0b11111111, 
    0b11111111, 0b11111111, 
    0b11111111, 0b11111111, 
    0b11111111, 0b11111111, 
    0b11111111, 0b11111111, 
    0b11111111, 0b11111111,
    0b11111111, 0b11111111, 
    0b11111111, 0b11111111, 
    0b11111111, 0b11111111, 
    0b11111111, 0b11111111, 
    0b11111111, 0b11111111, 
    0b11111111, 0b11111111, 
    0b11111111, 0b11111111
};

const char D[] PROGMEM = {
    0b11111111, 0b11111111, 
    0b11000000, 0b11000000, 
    0b11001111, 0b11001111, 
    0b11001111, 0b11001111, 
    0b11001111, 0b11100111, 
    0b11110000, 0b11111000, 
    0b11111111, 0b11111111,
    0b11111111, 0b11111111, 
    0b00000011, 0b00000011, 
    0b11110011, 0b11110011, 
    0b11110011, 0b11110011, 
    0b11110011, 0b11100011, 
    0b00000111, 0b00011111, 
    0b11111111, 0b11111111
};

const char Happy[] PROGMEM = {
    0b11111111, 0b11111111, 
    0b11111111, 0b11100111, 
    0b11100111, 0b11111111, 
    0b11111111, 0b11111111, 
    0b11111111, 0b11100111, 
    0b11100111, 0b11111111, 
    0b11111111, 0b11111111,
    0b11111111, 0b10011111, 
    0b10000111, 0b11100111, 
    0b11110011, 0b11110011, 
    0b11110011, 0b11110011, 
    0b11110011, 0b11110011, 
    0b11100111, 0b10000111, 
    0b10011111, 0b11111111
};

const Character font[] = {
    {0x0007, Happy},
    {0x0020, Space},
    {0x0044, D}
};

Character getCharacter(uint16_t code) {
    for (size_t i = 0; i < sizeof (font); i++) {
        if (font[i].code == code) {
            return font[i];
        }
    }

    return getCharacter(0x0007);
}